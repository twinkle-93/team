<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.notice">
	<insert id="insert">
		INSERT INTO notice (n_num, n_id, n_title, n_content)
		VALUES ((SELECT nvl2(max(n_num), max(n_num)+1, 1) FROM notice),
		#{n_id}, #{n_title}, #{n_content})
	</insert>
	
	<select id="list" resultType="NoticeDTO">
		SELECT * FROM notice ORDER BY n_num desc
	</select>
	
	<select id="read" resultType="NoticeDTO">
		SELECT * FROM notice WHERE n_num = #{n_num}
	</select>
	
	<update id="update">
		UPDATE notice SET n_title = #{n_title}, n_content = #{n_content}
		WHERE n_num = #{n_num}
	</update>
	
	<delete id="delete">
		DELETE FROM notice WHERE n_num = #{n_num}
	</delete>
	
	<select id="getAmount" resultType="Integer">
		SELECT count(n_num) FROM notice
	
	</select>
</mapper>